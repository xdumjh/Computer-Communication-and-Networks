# 网络层

## 1.IPV4

#### 1.1为什么需要IP地址

IP地址决定了数据报到达哪个计算机，目标MAC地址决定了下一跳由哪个设备接收，不一定是终点。

![QQ截图20221012084015](C:\Users\mjh\Desktop\Blog\计算机网络\QQ截图20221012084015.png)

IPV4地址是32位长 

IPV4地址唯一且通用

IPV4地址空间是$2^ {32} $

![image-20221012090139023](C:\Users\mjh\AppData\Roaming\Typora\typora-user-images\image-20221012090139023.png)

#### 1.2 IP地址的编址方法

##### 1.2.1 分类的IP地址

最基本的编址方法。

地址空间被划分为A,B,C,D,E五类。每一类地址都由两个固定长度的字段组成。

![QQ截图20221012090355](C:\Users\mjh\Desktop\Blog\计算机网络\QQ截图20221012090355.png)

**IP地址具体表示方式**

![image-20221012090534920](C:\Users\mjh\AppData\Roaming\Typora\typora-user-images\image-20221012090534920.png)

常见的几种类别的IP地址



| 网络类别 | 最大网络数 | 第一个可用的网络信号 |      |      |
| -------- | ---------- | -------------------- | ---- | ---- |
| A        |            |                      |      |      |
| B        |            |                      |      |      |
| C        |            |                      |      |      |

##### 特殊的IP地址

|      |      |      |      |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |      |      |
|      |      |      |      |      |      |      |
|      |      |      |      |      |      |      |
|      |      |      |      |      |      |      |

私有网络：





在分类寻址中，大部分可用地址都被浪费了。

分类寻址的方法是采用地址类（固定数目的地址快）来分配且每个地址块长度固定

##### 1.3子网的划分

在IP地址中又增加一个“子网号字段”，使得两级IP地址变成**三级IP地址**。 这种做法称为==划分子网==。划分子网已经成为因特网正式的标准协议。

 **==IP地址 ::= {<网络号>, <子网号>, <主机号>}==**        

先根据网络号找到连接在本单位网络上的路由器，然后此路由器收到IP数据报后再按照子网号找到目的子网，最后根据主机号直接交付给目的主机。

PS：网络号并未划分 只是将主机号进行划分，不改变IP地址原来的网络号。

###### 子网掩码： 仅仅通过IP数据报首部无法判断主机是否进行了子网划分  使用子网掩码可以找到IP地址中子网部分。

通过与运算来获得子网号 

默认子网掩码

![image-20221012093908348](C:\Users\mjh\AppData\Roaming\Typora\typora-user-images\image-20221012093908348.png)

###### 子网掩码与网关的作用





